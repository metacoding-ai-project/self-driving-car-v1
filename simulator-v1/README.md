# Simulator v1 - 과적합 문제가 있는 원본 버전

## 📋 프로젝트 설명

이 버전은 **과적합(Overfitting) 문제가 발생하는 원본 버전**입니다. 
강화학습의 과적합 문제를 이해하고 해결 방법을 학습하기 위한 교육용 예제입니다.

## 🎯 주요 특징

- **단일 맵**: 하나의 고정된 맵에서만 학습
- **고정된 시작점/목적지**: 항상 (2, 2) → (27, 27)
- **고정된 초기 방향**: 항상 위쪽(0) 방향으로 시작
- **빠른 Epsilon Decay**: 0.995 (탐험 시간 부족)
- **Gradient Clipping 없음**: 학습 불안정
- **경로 다양성 보상 없음**: 같은 경로만 반복

## ⚠️ 문제점 (과적합 발생)

### 1. 한쪽으로만 이동하는 문제

**증상:**
- 에이전트가 한 번 최적 경로를 찾으면 계속 그 경로만 사용
- 오른쪽/아래쪽으로만 이동
- 왼쪽/위쪽 방향을 거의 사용하지 않음

**원인:**
- 고정된 초기 방향 (항상 위쪽)
- 매 에피소드마다 같은 위치, 같은 방향에서 시작
- 왼쪽/위쪽 방향을 탐험할 기회가 없음

### 2. 특정 경로에 고착화

**증상:**
- 학습 초기에 찾은 경로만 계속 사용
- 다른 경로를 시도하지 않음
- 경로 다양성이 없음

**원인:**
- 빠른 Epsilon Decay (0.995)
- 100 에피소드만 지나도 epsilon이 0.6 이하로 떨어짐
- 탐험 시간이 부족함
- 경로 다양성 보상이 없음

### 3. 단일 맵 학습

**증상:**
- 특정 맵의 특정 경로만 암기
- 다른 맵에서 작동하지 않음
- 일반화 불가능

**원인:**
- 하나의 맵만 반복 학습
- 고정된 시작점/목적지
- 맵 구조가 항상 동일

### 4. 학습 불안정성

**증상:**
- 학습이 불안정함
- 가중치가 너무 커질 수 있음
- 성능이 일정하지 않음

**원인:**
- Gradient Clipping 없음
- 정규화 없음

## 📊 예상되는 학습 결과

### Episode 0-100: 초보 단계 🔴
- AI가 랜덤하게 움직임 (하지만 위쪽에서 시작)
- 벽에 자주 부딪힘
- 평균 3-5스텝 생존
- **오른쪽/아래쪽으로만 이동하는 패턴 시작**

### Episode 100-300: 학습 시작 🟡
- 조금씩 패턴 발견
- 벽을 피하기 시작
- 10-20스텝 생존
- **한쪽으로만 이동하는 패턴 강화**

### Episode 300-500: 과적합 발생 ❌
- 벽을 거의 안 부딪힘
- 100-500스텝 생존
- **하지만 항상 같은 경로만 사용**
- **다른 경로를 시도하지 않음**
- **왼쪽/위쪽 방향을 거의 사용하지 않음**

## 🚀 사용 방법

### 1. 패키지 설치

```bash
python -m pip install pygame-ce numpy torch matplotlib
```

### 2. 훈련 시작

```bash
cd simulator-v1
python train.py
```

### 3. 테스트

```bash
python main.py
```

## 📈 학습 결과 분석

훈련 후 다음을 확인하세요:

1. **경로 다양성**: 항상 같은 경로만 사용하는지 확인
2. **방향 사용**: 왼쪽/위쪽 방향을 사용하는지 확인
3. **일반화**: 다른 맵에서도 작동하는지 확인 (작동하지 않을 것)

## 🔍 문제 확인 방법

1. **시각적 확인**: 화면에서 자동차가 항상 같은 경로로 가는지 확인
2. **방향 분석**: 왼쪽/위쪽 방향을 사용하는지 확인
3. **다른 맵 테스트**: 맵을 바꿔서 테스트 (작동하지 않을 것)

## 📚 다음 단계

이 버전의 문제점을 이해했다면:

1. **v2 확인**: 과적합 해결 방법을 적용한 버전
2. **v3 확인**: 여러 맵과 랜덤 시작점/목적지를 사용하는 최종 버전
3. **과적합해결법.md 참고**: 상세한 해결 방법 확인

## 💡 학습 목표

이 버전을 통해 다음을 학습할 수 있습니다:

- 과적합 문제의 원인 이해
- 고정된 초기 조건의 문제점
- 빠른 Epsilon Decay의 문제점
- 단일 맵 학습의 한계
- 경로 다양성의 중요성

---

**⚠️ 주의**: 이 버전은 교육용으로, 실제 프로젝트에는 사용하지 마세요!
